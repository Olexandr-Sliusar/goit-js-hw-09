{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEAD,EAAAE,OAAOC,KAAK,CACVC,QAAS,IACTC,cAAc,IAGhB,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,cAAeF,SAASC,cAAc,iBAGlCE,EAAML,EAAKC,KAAKK,SAuBtB,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CAIb,SAASQ,GAAUT,SAAEA,EAAQC,MAAEA,IAC7Bf,EAAAE,OAAOsB,QAAQ,qBAAqBV,QAAeC,M,CAGrD,SAASU,GAAUX,SAAEA,EAAQC,MAAEA,IAC7Bf,EAAAE,OAAOwB,QAAQ,oBAAoBZ,QAAeC,M,CAvCpDY,OAAOC,QAKLjB,EAAII,MAAMc,MAAQ,IAClBlB,EAAImB,KAAKD,MAAQ,SACjBlB,EAAIoB,OAAOF,MAAQ,IANrBvB,EAAKC,KAAKyB,iBAAiB,UAS3B,SAA2BC,GACzBA,EAAMC,iBAEN,IAAInB,EAAQoB,OAAOxB,EAAII,MAAMc,OAE7B,IAAK,IAAIO,EAAI,EAAGA,GAAKD,OAAOxB,EAAIoB,OAAOF,OAAQO,GAAK,EAClDvB,EAAcuB,EAAGrB,GAAOsB,KAAKd,GAAWe,MAAMb,GAC9CV,GAASoB,OAAOxB,EAAImB,KAAKD,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nNotify.init({\n  timeout: 5000,\n  clickToClose: true,\n});\n\nconst refs = {\n  form: document.querySelector('.form'),\n  formSubmitBtn: document.querySelector('.form button'),\n};\n\nconst frm = refs.form.elements;\n\nwindow.onload = onLoadPage();\nrefs.form.addEventListener('submit', onSubmitFormEvent);\n\nfunction onLoadPage() {\n  /* set default value */\n  frm.delay.value = 1000;\n  frm.step.value = 500;\n  frm.amount.value = 5;\n}\n\nfunction onSubmitFormEvent(event) {\n  event.preventDefault();\n\n  let delay = Number(frm.delay.value);\n\n  for (let i = 1; i <= Number(frm.amount.value); i += 1) {\n    createPromise(i, delay).then(onSuccess).catch(onFailure);\n    delay += Number(frm.step.value);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onSuccess({ position, delay }) {\n  Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onFailure({ position, delay }) {\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iQIUW","parcelRequire","Notify","init","timeout","clickToClose","$47d4ff9957288465$var$refs","form","document","querySelector","formSubmitBtn","$47d4ff9957288465$var$frm","elements","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSuccess","success","$47d4ff9957288465$var$onFailure","failure","window","onload","value","step","amount","addEventListener","event","preventDefault","Number","i","then","catch"],"version":3,"file":"03-promises.3245e480.js.map"}